<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Jira Page - Extension Testing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .field-group {
            margin: 20px 0;
            padding: 15px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        textarea {
            width: 100%;
            min-height: 150px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: Arial, sans-serif;
            resize: vertical;
        }
        .mode-switcher {
            margin: 20px 0;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 4px;
        }
        .mode-switcher button {
            margin-right: 10px;
            padding: 8px 16px;
            border: 1px solid #2196f3;
            background: white;
            color: #2196f3;
            border-radius: 4px;
            cursor: pointer;
        }
        .mode-switcher button.active {
            background: #2196f3;
            color: white;
        }
        .view-mode {
            display: none;
        }
        .view-mode .content {
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-height: 100px;
        }
        .edit-mode {
            display: block;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>üß™ Jira Template Buttons Extension - Test Page</h1>
    
    <div class="status">
        <strong>–°—Ç–∞—Ç—É—Å:</strong> –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
    </div>

    <div class="mode-switcher">
        <button id="viewModeBtn" onclick="switchToViewMode()">üëÅÔ∏è –†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</button>
        <button id="editModeBtn" class="active" onclick="switchToEditMode()">‚úèÔ∏è –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</button>
    </div>

    <!-- View Mode -->
    <div id="viewMode" class="view-mode">
        <div class="field-group">
            <label>–û–ø–∏—Å–∞–Ω–∏–µ (—Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</label>
            <div class="content" id="viewContent">
                –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. 
                –ö–Ω–æ–ø–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ.
                –ù–∞–∂–º–∏—Ç–µ "–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è.
            </div>
        </div>
    </div>

    <!-- Edit Mode -->
    <div id="editMode" class="edit-mode">
        <div class="field-group">
            <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
            <textarea id="description" name="description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...">–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –ü–æ—è–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
2. –†–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ "–£–ª—É—á—à–∏—Ç—å –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É" —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º LLM
3. –ö–Ω–æ–ø–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ (–ù–∞–∑–∞–¥/–í–ø–µ—Ä–µ–¥)
4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
5. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Jira —à–∞–±–ª–æ–Ω–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ - –∫–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</textarea>
        </div>

        <div class="field-group">
            <label for="summary">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)</label>
            <input type="text" id="summary" value="–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
        </div>
    </div>

    <div class="status">
        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</strong>
        <ul>
            <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ Chrome (chrome://extensions/)</li>
            <li>–ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫</li>
            <li>–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–£–ª—É—á—à–∏—Ç—å –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É" - –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π</li>
        </ul>
    </div>

    <script>
        function switchToViewMode() {
            document.getElementById('viewMode').style.display = 'block';
            document.getElementById('editMode').style.display = 'none';
            document.getElementById('viewModeBtn').classList.add('active');
            document.getElementById('editModeBtn').classList.remove('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            const textarea = document.getElementById('description');
            const viewContent = document.getElementById('viewContent');
            if (textarea && viewContent) {
                viewContent.textContent = textarea.value || '–ü—É—Å—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ';
            }
            
            console.log('[TestPage] Switched to view mode');
        }

        function switchToEditMode() {
            document.getElementById('viewMode').style.display = 'none';
            document.getElementById('editMode').style.display = 'block';
            document.getElementById('viewModeBtn').classList.remove('active');
            document.getElementById('editModeBtn').classList.add('active');
            
            console.log('[TestPage] Switched to edit mode');
            
            // –ò–º–∏—Ç–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ DOM –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MutationObserver
            setTimeout(() => {
                const textarea = document.getElementById('description');
                if (textarea) {
                    textarea.focus();
                    console.log('[TestPage] Focused textarea after mode switch');
                }
            }, 100);
        }

        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        console.log('[TestPage] Test page loaded');
        
        // –ò–º–∏—Ç–∏—Ä—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è DOM –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–π Jira
        setInterval(() => {
            const textarea = document.getElementById('description');
            if (textarea && document.getElementById('editMode').style.display !== 'none') {
                // –î–æ–±–∞–≤–ª—è–µ–º/—É–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π DOM
                textarea.classList.toggle('jira-dynamic-update');
            }
        }, 5000);
    </script>
</body>
</html>

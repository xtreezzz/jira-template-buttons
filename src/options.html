<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jira Template Buttons — Настройки</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h2>Настройки LLM</h2>
  <form id="settings-form">
    <label>
      API URL:
      <input type="text" id="apiUrl" list="apiUrlList" placeholder="Оставьте пустым для использования по умолчанию">
      <datalist id="apiUrlList">
        <option value="https://api.openai.com/v1/chat/completions">
        <option value="https://generativelanguage.googleapis.com/v1beta">
        <option value="http://localhost:11434/api/generate">
        <option value="http://localhost:8000/v1/chat/completions">
        <option value="http://localhost:1234/v1/chat/completions">
      </datalist>
    </label>
    <label>
      API ключ:
      <input type="password" id="apiKey" required>
    </label>
    <label>
      Модель:
      <input type="text" id="model" list="modelList" placeholder="Введите название модели">
      <datalist id="modelList">
        <optgroup label="OpenAI">
          <option value="gpt-4o">gpt-4o</option>
          <option value="gpt-4">gpt-4</option>
          <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
        </optgroup>
        <optgroup label="Gemini">
          <option value="gemini-2.0-flash">gemini-2.0-flash</option>
          <option value="gemini-2.5-flash">gemini-2.5-flash</option>
          <option value="gemini-pro">gemini-pro</option>
        </optgroup>
        <optgroup label="Локальные модели">
          <option value="llama3.2">llama3.2 (Ollama)</option>
          <option value="codellama">codellama (Ollama)</option>
          <option value="mistral">mistral (Ollama)</option>
          <option value="qwen2.5">qwen2.5 (Ollama)</option>
        </optgroup>
      </datalist>
    </label>
    <label>
      Формат API (для кастомных endpoint'ов):
      <select id="customEndpointFormat">
        <option value="openai">OpenAI-совместимый</option>
        <option value="ollama">Ollama</option>
        <option value="custom">Кастомный</option>
        <option value="token-auth">Кастомный с токен-аутентификацией</option>
      </select>
    </label>
    
    <!-- Поля для токен-аутентификации -->
    <div id="tokenAuthFields" style="display: none;">
      <h3>Настройки токен-аутентификации</h3>
      <label>
        URL для получения токена:
        <input type="text" id="authUrl" placeholder="https://url/auth/v1/token">
      </label>
      <label>
        URL для чата:
        <input type="text" id="chatUrl" placeholder="https://url/public/v1/chat/completions">
      </label>
      <label>
        Имя пользователя:
        <input type="text" id="username" placeholder="username">
      </label>
      <label>
        Пароль:
        <input type="password" id="password" placeholder="password">
      </label>
      <label>
        Температура (0.0 - 2.0):
        <input type="number" id="temperature" min="0" max="2" step="0.1" value="0.1">
      </label>
      <label>
        Роль системы:
        <input type="text" id="systemRole" value="system" placeholder="system">
      </label>
      <label>
        Роль пользователя:
        <input type="text" id="userRole" value="user" placeholder="user">
      </label>
    </div>
    <label>
      Системный промпт:
      <textarea id="systemPrompt" rows="4"></textarea>
    </label>
    <button type="submit">Сохранить</button>
    <span id="status"></span>
  </form>
  <script src="options.js"></script>
</body>
</html>    